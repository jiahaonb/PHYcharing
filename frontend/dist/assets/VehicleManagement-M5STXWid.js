import{_ as B}from"./_plugin-vue_export-helper-BCEt7Ct6.js";/* empty css                   *//* empty css                   *//* empty css                             *//* empty css                *//* empty css                        */import"./el-tooltip-l0sNRNKZ.js";/* empty css                     *//* empty css                  */import{r as c,F as N,c as h,o as p,d as e,w as t,K as I,H as M,I as T,m as z,a1 as L,n as S,aa as W,ab as $,l,v as i,k as F,a6 as H,b as w,t as K,x as U,a7 as j,S as q,a3 as A,a4 as G}from"./index-DURBC1W6.js";const J={class:"admin-vehicle-management"},O={class:"card-header"},P={key:0,class:"vehicle-details"},Q={__name:"VehicleManagement",setup(R){const f=c([]),u=c(!1),_=c(!1),o=c(null),v=async()=>{u.value=!0;try{f.value=await T.get("/admin/vehicles")}catch(n){console.error("获取车辆列表失败:",n),z.error("获取车辆列表失败")}finally{u.value=!1}},g=()=>{v()},y=n=>{o.value=n,_.value=!0},b=n=>n?new Date(n).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"-";return N(()=>{v()}),(n,a)=>{const V=K,m=F,s=$,k=W,E=I,r=G,x=A,C=M,D=H;return p(),h("div",J,[e(E,null,{header:t(()=>[w("div",O,[a[3]||(a[3]=w("span",null,"所有用户车辆管理",-1)),e(m,{onClick:g},{default:t(()=>[e(V,null,{default:t(()=>[e(U(j))]),_:1}),a[2]||(a[2]=l(" 刷新 "))]),_:1,__:[2]})])]),default:t(()=>[L((p(),S(k,{data:f.value,style:{width:"100%","min-height":"400px"},"empty-text":"暂无车辆数据"},{default:t(()=>[e(s,{prop:"license_plate",label:"车牌号",width:"120"}),e(s,{prop:"model",label:"型号",width:"180"}),e(s,{prop:"battery_capacity",label:"电池容量(kWh)",width:"130"}),e(s,{prop:"owner_username",label:"车主用户名",width:"120"}),e(s,{prop:"owner_email",label:"车主邮箱",width:"200"}),e(s,{prop:"created_at",label:"添加时间",width:"180"},{default:t(d=>[l(i(b(d.row.created_at)),1)]),_:1}),e(s,{label:"操作",width:"100"},{default:t(d=>[e(m,{size:"small",type:"info",onClick:X=>y(d.row)},{default:t(()=>a[4]||(a[4]=[l(" 详情 ")])),_:2,__:[4]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[D,u.value]])]),_:1}),e(C,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=d=>_.value=d),title:"车辆详情",width:"500px"},{footer:t(()=>[e(m,{onClick:a[0]||(a[0]=d=>_.value=!1)},{default:t(()=>a[5]||(a[5]=[l("关闭")])),_:1,__:[5]})]),default:t(()=>[o.value?(p(),h("div",P,[e(x,{column:1,border:""},{default:t(()=>[e(r,{label:"车牌号"},{default:t(()=>[l(i(o.value.license_plate),1)]),_:1}),e(r,{label:"型号"},{default:t(()=>[l(i(o.value.model||"未设置"),1)]),_:1}),e(r,{label:"电池容量"},{default:t(()=>[l(i(o.value.battery_capacity)+" kWh ",1)]),_:1}),e(r,{label:"车主用户名"},{default:t(()=>[l(i(o.value.owner_username),1)]),_:1}),e(r,{label:"车主邮箱"},{default:t(()=>[l(i(o.value.owner_email),1)]),_:1}),e(r,{label:"添加时间"},{default:t(()=>[l(i(b(o.value.created_at)),1)]),_:1})]),_:1})])):q("",!0)]),_:1},8,["modelValue"])])}}},re=B(Q,[["__scopeId","data-v-1ec0529f"]]);export{re as default};

import{_ as b}from"./_plugin-vue_export-helper-BCEt7Ct6.js";/* empty css                     *//* empty css                  *//* empty css                 */import{u as x,r as m,a as k,c as h,o as y,b as n,d as l,w as s,E as U,f as z,g as E,h as P,i as R,k as C,l as p,m as F}from"./index-DURBC1W6.js";const q={class:"register-container"},B={class:"register-card"},I={class:"register-footer"},L={__name:"Register",setup(N){const g=z(),f=x(),u=m(),d=m(!1),r=k({username:"",email:"",full_name:"",phone:"",address:"",backup_phone:"",password:"",confirmPassword:""}),_={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在3到20个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认密码",trigger:"blur"},{validator:(i,e,a)=>{e!==r.password?a(new Error("两次输入的密码不一致")):a()},trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}]},c=async()=>{u.value&&await u.value.validate(async i=>{if(i){d.value=!0;try{await f.register({username:r.username,email:r.email,full_name:r.full_name||null,phone:r.phone||null,address:r.address||null,backup_phone:r.backup_phone||null,password:r.password}),F.success("注册成功，请登录"),g.push("/login")}catch(e){console.error("注册失败:",e)}finally{d.value=!1}}})};return(i,e)=>{const a=R,t=P,w=C,V=E("router-link"),v=U;return y(),h("div",q,[n("div",B,[e[10]||(e[10]=n("div",{class:"register-header"},[n("h1",null,"智能充电桩调度计费系统"),n("p",null,"用户注册")],-1)),l(v,{ref_key:"registerFormRef",ref:u,model:r,rules:_,class:"register-form"},{default:s(()=>[l(t,{prop:"username"},{default:s(()=>[l(a,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=o=>r.username=o),placeholder:"请输入用户名",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),l(t,{prop:"email"},{default:s(()=>[l(a,{modelValue:r.email,"onUpdate:modelValue":e[1]||(e[1]=o=>r.email=o),placeholder:"请输入邮箱",size:"large","prefix-icon":"Message"},null,8,["modelValue"])]),_:1}),l(t,{prop:"full_name"},{default:s(()=>[l(a,{modelValue:r.full_name,"onUpdate:modelValue":e[2]||(e[2]=o=>r.full_name=o),placeholder:"请输入姓名（可选）",size:"large","prefix-icon":"User"},null,8,["modelValue"])]),_:1}),l(t,{prop:"phone"},{default:s(()=>[l(a,{modelValue:r.phone,"onUpdate:modelValue":e[3]||(e[3]=o=>r.phone=o),placeholder:"请输入手机号（可选）",size:"large","prefix-icon":"Phone"},null,8,["modelValue"])]),_:1}),l(t,{prop:"address"},{default:s(()=>[l(a,{modelValue:r.address,"onUpdate:modelValue":e[4]||(e[4]=o=>r.address=o),placeholder:"请输入联系地址（可选）",size:"large","prefix-icon":"Location"},null,8,["modelValue"])]),_:1}),l(t,{prop:"password"},{default:s(()=>[l(a,{modelValue:r.password,"onUpdate:modelValue":e[5]||(e[5]=o=>r.password=o),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),l(t,{prop:"confirmPassword"},{default:s(()=>[l(a,{modelValue:r.confirmPassword,"onUpdate:modelValue":e[6]||(e[6]=o=>r.confirmPassword=o),type:"password",placeholder:"请确认密码",size:"large","prefix-icon":"Lock","show-password":""},null,8,["modelValue"])]),_:1}),l(t,null,{default:s(()=>[l(w,{type:"primary",size:"large",loading:d.value,class:"register-button",onClick:c},{default:s(()=>e[7]||(e[7]=[p(" 注册 ")])),_:1,__:[7]},8,["loading"])]),_:1}),n("div",I,[e[9]||(e[9]=n("span",null,"已有账号？",-1)),l(V,{to:"/login",class:"login-link"},{default:s(()=>e[8]||(e[8]=[p(" 立即登录 ")])),_:1,__:[8]})])]),_:1},8,["model"])])])}}},D=b(L,[["__scopeId","data-v-18cb6fde"]]);export{D as default};
